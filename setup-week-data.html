<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Setup Week Data - Merrick Monitor</title>
  <style>
    body {
      font-family: monospace;
      background: #0a0f0a;
      color: #00ff00;
      padding: 40px;
      max-width: 800px;
      margin: 0 auto;
    }
    .container {
      border: 2px solid #00ff00;
      padding: 30px;
      background: #0a1a0a;
    }
    h1 {
      color: #00ff00;
      margin-bottom: 20px;
    }
    .info {
      background: #001a00;
      border: 1px solid #00ff00;
      padding: 15px;
      margin: 15px 0;
    }
    button {
      background: #00ff00;
      color: #000;
      border: none;
      padding: 15px 30px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      text-transform: uppercase;
      margin: 10px 5px;
      font-family: monospace;
    }
    button:hover {
      background: #00cc00;
    }
    .success {
      color: #00ff00;
      font-weight: bold;
    }
    .warning {
      color: #ffaa00;
    }
    pre {
      background: #000;
      padding: 10px;
      overflow-x: auto;
      border: 1px solid #00ff00;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üñ•Ô∏è MERRICK MONITOR - WEEK DATA SETUP</h1>

    <div class="info">
      <p><strong>This Week's Tasks:</strong></p>
      <ul>
        <li>‚úÖ Monday AM: Finalize Bootstrap</li>
        <li>‚úÖ Monday: Start work on On-Page Josh Bot</li>
        <li>‚ö†Ô∏è Wednesday (REACTIVE): Build Merrick Monitor dashboard</li>
        <li>üîÑ Thursday AM: Final work on Merrick Monitor (90% complete)</li>
        <li>üéØ Friday: Finish new On-Page Josh Bot</li>
      </ul>
    </div>

    <button onclick="populateData()">POPULATE WEEK DATA</button>
    <button onclick="clearData()">CLEAR DATA</button>
    <button onclick="viewData()">VIEW CURRENT DATA</button>

    <div id="output" style="margin-top: 20px;"></div>
  </div>

  <script>
    function getCurrentWeekKey() {
      const now = new Date();
      const dayOfWeek = now.getDay() || 7;
      const monday = new Date(now);
      monday.setDate(now.getDate() - (dayOfWeek - 1));
      monday.setHours(0, 0, 0, 0);
      return monday.toISOString().split("T")[0];
    }

    function populateData() {
      const weekKey = getCurrentWeekKey();

      // Weekly Agenda - Planned tasks
      const weeklyAgenda = [
        {
          id: 1732531200000,
          text: "Finalize Bootstrap",
          completed: true,
          createdAt: "2025-11-25T08:00:00.000Z"
        },
        {
          id: 1732531200001,
          text: "Start work on On-Page Josh Bot",
          completed: true,
          createdAt: "2025-11-25T10:00:00.000Z"
        },
        {
          id: 1732790400000,
          text: "Final work on Merrick Monitor (90% complete)",
          completed: false,
          createdAt: "2025-11-25T08:00:00.000Z"
        },
        {
          id: 1732876800000,
          text: "Finish new On-Page Josh Bot",
          completed: false,
          createdAt: "2025-11-25T08:00:00.000Z"
        }
      ];

      // Reactive Tasks - Unplanned work
      const reactiveTasks = [
        {
          id: 1732704000000,
          name: "Build Merrick Monitor dashboard",
          addedAt: "2025-11-27T09:00:00.000Z"
        }
      ];

      // Save to localStorage
      const savedAgendas = JSON.parse(localStorage.getItem("weeklyAgendas") || "{}");
      savedAgendas[weekKey] = weeklyAgenda;
      localStorage.setItem("weeklyAgendas", JSON.stringify(savedAgendas));

      const savedReactiveTasks = JSON.parse(localStorage.getItem("reactiveTasks") || "{}");
      savedReactiveTasks[weekKey] = reactiveTasks;
      localStorage.setItem("reactiveTasks", JSON.stringify(savedReactiveTasks));

      document.getElementById("output").innerHTML = `
        <div class="info success">
          <p>‚úÖ DATA POPULATED SUCCESSFULLY!</p>
          <p>Week key: ${weekKey}</p>
          <p>Planned tasks: ${weeklyAgenda.length}</p>
          <p>Reactive tasks: ${reactiveTasks.length}</p>
          <p><strong>Refresh your Merrick Monitor app to see the changes!</strong></p>
        </div>
      `;
    }

    function clearData() {
      const weekKey = getCurrentWeekKey();
      const savedAgendas = JSON.parse(localStorage.getItem("weeklyAgendas") || "{}");
      const savedReactiveTasks = JSON.parse(localStorage.getItem("reactiveTasks") || "{}");

      delete savedAgendas[weekKey];
      delete savedReactiveTasks[weekKey];

      localStorage.setItem("weeklyAgendas", JSON.stringify(savedAgendas));
      localStorage.setItem("reactiveTasks", JSON.stringify(savedReactiveTasks));

      document.getElementById("output").innerHTML = `
        <div class="info warning">
          <p>‚ö†Ô∏è DATA CLEARED FOR THIS WEEK</p>
          <p>Week key: ${weekKey}</p>
        </div>
      `;
    }

    function viewData() {
      const weekKey = getCurrentWeekKey();
      const savedAgendas = JSON.parse(localStorage.getItem("weeklyAgendas") || "{}");
      const savedReactiveTasks = JSON.parse(localStorage.getItem("reactiveTasks") || "{}");

      document.getElementById("output").innerHTML = `
        <div class="info">
          <p><strong>Current Week:</strong> ${weekKey}</p>
          <p><strong>Weekly Agenda:</strong></p>
          <pre>${JSON.stringify(savedAgendas[weekKey] || [], null, 2)}</pre>
          <p><strong>Reactive Tasks:</strong></p>
          <pre>${JSON.stringify(savedReactiveTasks[weekKey] || [], null, 2)}</pre>
        </div>
      `;
    }
  </script>
</body>
</html>
